Eclipse Kura - 5.6.0 - November 2024
-------------------------------------------------------------------------------------------------
Description:
This minor release of Eclipse Kura, compatible with Java 8 and OSGi R7, introduces features and changes to simplify the user interaction and deployment of the framework.
This release contains improvements and simplifications to the cellular configuration, leveraging NetworkManager, allowing to enable a cellular interface without the need to specify a modem dial string or APN.
A change has been made to the profiles to give more flexibility and connectivity ease of use when installed on gateways with more than one ethernet interfaces.
A new scale and offset modality has been added to the asset component.
A new provider that allows to retrieve location information from ModemManager has been added to the PositionService. 
The release contains a number of bug fixes and general feature improvements.


Features:
  * f43a382899 - Add default log manager property [backport release-5.6.0] (#5507) (eclipse-kura-bot)
  * 132eded3ae - [web-ui] Added a column filter to channels table in the asset configuration [backport release-5.6.0] (#5501) (eclipse-kura-bot)
  * 170689592f - Added support for emitting connection errors in WireAsset [backport release-5.6.0] (#5494) (eclipse-kura-bot)
  * 80df92f038 - [nm] Added SIM operator ID to Network Status [backport release-5.6.0] (#5483) (eclipse-kura-bot)
  * 6e5c87949d - [asset.provider] Now the DataType sent to the driver depends on the DataType of the channel and theDataType of the scaleOffsetDataType field and a new ScaleOffsetDataType, LONG, has been added [backport release-5.6.0] (#5440) (eclipse-kura-bot)
  * 0d897a3b92 - Added new KeystoreService.getKeyManagers() method that allows provider selection [backport release-5.6.0] (#5460) (nicolatimeus)
  * d17c9cea86 - [distrib] Network configuration customization during Kura instal… (#5453) (Pierantonio Merlino)
  * b32783f0f1 - [position] added datetime and gnsstype to position service static provider [backport release-5.6.0] (#5451) (eclipse-kura-bot)
  * 4996841276 - added gnssType to position rest service [backport 5.6.0] (#5429) (#5449) (sfiorani)
  * 2f259334cd - add GPS Mode selector in modem UI [backport 5.6.0] (#5435) (Mattia Dal Ben)
  * e3ad041b6b - [asset.provider] Added type for Scale and Offset in Channels [backport release-5.6.0] (#5426) (eclipse-kura-bot)
  * 1824c77800 - [nm] add managed GPS mode [backport release-5.6.0] (#5417) (eclipse-kura-bot)
  * e2c372da05 - [api] add getSupportedGpsModes() to modem status API [backport release-5.6.0] (#5422) (eclipse-kura-bot)
  * df160ae038 - Improve container service description [backport release-5.6.0] (#5425) (eclipse-kura-bot)
  * cf7fb669d1 - Added asset name in error logs [backport release-5.6.0] (#5416) (eclipse-kura-bot)
  * 94c76d2ed3 - [api] added gnss type data to PositionService (#5381) [backport release-5.6.0] (#5407) (sfiorani)
  * 728ee0ce99 - [linux.net] Modified dhcp server selection order [backport release-5.6.0] (#5402) (Pierantonio Merlino)
  * 392ee9413c - Modified modem APN tooltip (backport) (#5360) (Pierantonio Merlino)
  * d5a020ab82 - Add net2 check to hide pdp if not needed (#5356) (Matteo Maiero)
  * 766a3328e2 - [nm] Modem APN as an optional parameter [backport release-5.6.0] (#5353) (github-actions[bot])

Target Environments:
 Kura is released as pre-compiled binary installers for the following platforms:
  * Intel Up Squared board running Ubuntu 20.04 (Kura networking)
  * Nvidia Jetson Nano board running Ubuntu 18 (Kura networking)
  * Generic Debian Package for x86_64 (NetworkManager)
  * Generic Debian Package for arm32 (NetworkManager)
  * Generic Debian Package for arm64 (NetworkManager)
 Kura no longer provides a dedicated installer for the following platforms, but support is still provided through the Generic Debian Packages (see https://github.com/eclipse/kura/discussions/5224):
  * Raspberry Pi 2/3/4 based on Raspberry Pi OS (32 bits)
  * Raspberry Pi 3/4 based on 64 bits OS
 Kura is also available as a pre-built Docker container for Ubi 8 and Alpine

Bug Fixes:
  * 6b3d84edc3 - Java 11+ PKCS11 provider setup [backport release-5.6.0] (#5497) (eclipse-kura-bot)
  * 5a9bb1d43e - [nm] AP scan not reports correct Wifi Security [backport release-5.6.0] (#5505) (eclipse-kura-bot)
  * 4b0fdc8a7e - Improvement on Raw cloud connection [backport release-5.6.0] (#5503) (eclipse-kura-bot)
  * e585cacfd2 - Container page refresh performed at completed operation [backport release-5.6.0] (#5489) (eclipse-kura-bot)
  * 024b7b18ec - [nm] Fixed SupportedCapabilities in Modem status [backport release-5.6.0] (#5488) (eclipse-kura-bot)
  * e9a2d18bd4 - [linux.position] wrong option name in metatype [backport release-5.6.0] (#5477) (eclipse-kura-bot)
  * 0e373d8595 - [nm] Reset gps mode selection before applying configuration [backport release-5.6.0] (#5476) (eclipse-kura-bot)
  * e5eae5fa61 - [distrib] Fix DHCP dependencies for Debian installer [backport release-5.6.0 (#5401) (Pierantonio Merlino)
  * ccd2e08db6 - Updated the Eclipse Marketplace certificate [backport release-5.6.0] (#5395) (github-actions[bot])
  * 6ca13b211c - Disable systemd-resolved stub mode on systemd versions less than 248 [backport release-5.6.0] (#5369) (github-actions[bot])
  * b3dff8ffdb - Connection Scheduler metatype improvement. [backport release-5.6.0] (#5365) (github-actions[bot])


Target Platform Updates:
  * f768acc086 - updated jetty version to 9.4.55.v20240627 [backport release-5.6.0] (#5502) (eclipse-kura-bot)
  * a4940f21fe - Reduce number of job history to 5 [backport release-5.6.0] (#5465) (eclipse-kura-bot)
  * f45421ebef - Protobuf update to 3.25.5 [backport 5.6.0] (#5431) (#5450) (Matteo Maiero)

Known Issues:
  * During a wifi scan, some access points with the WPA/WPA2 wifi security are recognized as WPA.
  * On devices with Ubuntu 20.04, the DHCP server provided by isc-dhcp-server may not assign an IP address to the clients. Use dnsmasq instead.
  * Snapshot rollback operation may fail processing factory component configurations.
  * The firewall rule applied by the network threat manager that block uncommon TCP MSS values is not applied in the Nvidia Jetson Nano.
  * When the IPv6 network threat manager is disabled, the filtering on TCP fragments is disabled only after a reboot.
  * The republish.mqtt.birth.cert.on.modem.detect property in the CloudService configuration is not supported for devices that use NetworkManager. The property value is ignored.
  * When dnsmasq is used as DHCP server, only one file is used to store the leases.
  * When dnsmasq is used as DHCP server, the DHCP List field in the DHCP and NAT tab shows the leases for all the interfaces.
  * The system reboot command cannot be issued even with a privileged user in Debian Bookworm due to an OS issue related to the CAP_SYS_BOOT capability.
  * The Wi-Fi AP scanning may fail in Debian Bookworm on the first scanning attempt in the specific Raspberry PI profile. A forced rescan can succeed and properly display the available APs.
  * The nvidia-jetson-nano installer disables FAN protocol support due to compatibility issues (see #4593)
  * The nvidia-jetson-nano doesn't support the Unprivileged Command Service (see #3598)
  * isc-dhcp-server fails upon first Kura installation on Raspberry Pi Bullseye. This is due to how the isc-dhcp-server installer package is
    built and run immediately after installation.
  * An update to the sslmanagerservice where the pid of the keystoreservice is updated can lead to an error in the following reconnection.
    The issue impact is limited, if the dataservice reconnect option is enabled.
  * The implementation of the CryptoService performs encryption using a
    password that is hardcoded and published.
  * Modem: Ublox Lisa U201 may not be able to establish PPP connection when CHAP/PAP authentication is required.
  * WiFi on Raspberry Pi 2 has only been tested with WiPi WiFi Dongle (Realink RT5370 chipset) and official Pi USB WiFi Dongle (Broadcom BCM43143 chipset).
    AccessPoint WiFi mode not working for Broadcom chipset.
  * Hardware watchdog: not implemented on all platforms
  * Only one WAN interface is currently supported with old networking. A warning in displayed
    in the WEB UI if the user attempts to enable more than one WAN interface
  * #4212: Wrong order of BIRTH/APPLICATION certificates for custom APP IDs registration
  * #3972: Topic name validation: issue with names containing "//" (Cloud Subscriber)
  * #4141: Sometimes user is not logged in after changing password
  * #3796: Server manager does not close properly
  * #3211: Kura Docker | Bluetooth error in log during starting service
  * #3005: Kura Gets Stuck in Loading View if Services Clicked Too Fast
  * #2843: Access Banner Content All in One Line
  * #2747: No Spacing Between "Wire Components" and Error in Wire Graph
  * #2728: WireGraph Component Description Windows Too Wide
  * #2725: Different Pop-up Windows for Warnings
  * #2702: Error Message For Long Item Names Not Displayed Properly
  * #2696: Component Name Inteferes With Wire Graph Border
  * #2695: Component Names in Wires Not Limited
  * #2410: Deployment handler and URLs with many query parameters
  * #2038: [Kura 3.2.0 QA] Package uninstallation log
  * #1993: Search Domains Are Not Supported
  * #1663: Authentication Issue with Deploy V2
  * #1572: serial modbus has errors on some hardware
  * #1529: OSGI console is not redirected to Eclipse IDE with Kura 3.0
  * #1161: Incorrectly configuring a component can be irreversable.
  * #1128: [Kura 3.0.0 M1 QA] Unable to delete manually added CamelFactory services
  * #1016: ConfigurationServiceImpl creates duplicate instances
  * #797:  Design of ServiceUtil is broken
  * #771:  Web UI fails with INTERNAL_ERROR when WireHelperService is not registered
  * #654:  Clean up static initialization around "modem" functionality
  * #645:  Clean up internal dependencies in Kura
  * #522:  [Net] Modem monitor should monitor interfaces, not modems
  * #486:  Build environment broken on Windows
  * #406:  Replace System.get* with calls to SystemService.getProperties
  * #329:  [DEPLOY-V2] Review/refactoring needed
  * #297:  [Status led] What connection instance controls the status led?
  * #253:  Check if bundle contexes correctly unget services after invoking getService
  * #222:  CloudConnectionStatusServiceImpl does not cancel workers on component deactivation

Changelog:
  * 9ac62728fa - chore: automated uptick to 5.6.0 (#5508) (eclipse-kura-bot)
  * f43a382899 - feat: Add default log manager property [backport release-5.6.0] (#5507) (eclipse-kura-bot)
  * 132eded3ae - feat(web-ui): Added a column filter to channels table in the asset configuration [backport release-5.6.0] (#5501) (eclipse-kura-bot)
  * 6b3d84edc3 - fix: Java 11+ PKCS11 provider setup [backport release-5.6.0] (#5497) (eclipse-kura-bot)
  * 5a9bb1d43e - fix(nm): AP scan not reports correct Wifi Security [backport release-5.6.0] (#5505) (eclipse-kura-bot)
  * 4b0fdc8a7e - fix: Improvement on Raw cloud connection [backport release-5.6.0] (#5503) (eclipse-kura-bot)
  * f768acc086 - build: updated jetty version to 9.4.55.v20240627 [backport release-5.6.0] (#5502) (eclipse-kura-bot)
  * 170689592f - feat: Added support for emitting connection errors in WireAsset [backport release-5.6.0] (#5494) (eclipse-kura-bot)
  * e585cacfd2 - fix: Container page refresh performed at completed operation [backport release-5.6.0] (#5489) (eclipse-kura-bot)
  * 024b7b18ec - fix(nm): Fixed SupportedCapabilities in Modem status [backport release-5.6.0] (#5488) (eclipse-kura-bot)
  * cb32367ea6 - chore(poms): uptick version of properties maven plugin [backport release-5.6.0] (#5486) (eclipse-kura-bot)
  * 80df92f038 - feat(nm): Added SIM operator ID to Network Status [backport release-5.6.0] (#5483) (eclipse-kura-bot)
  * e9a2d18bd4 - fix(linux.position): wrong option name in metatype [backport release-5.6.0] (#5477) (eclipse-kura-bot)
  * 0e373d8595 - fix(nm): Reset gps mode selection before applying configuration [backport release-5.6.0] (#5476) (eclipse-kura-bot)
  * 6c95965679 - refactor(position): updated name of position service api [backport release-5.6.0] (#5459) (eclipse-kura-bot)
  * 6e5c87949d - feat(asset.provider): Now the DataType sent to the driver depends on the DataType of the channel and theDataType of the scaleOffsetDataType field and a new ScaleOffsetDataType, LONG, has been added [backport release-5.6.0] (#5440) (eclipse-kura-bot)
  * a4940f21fe - build: Reduce number of job history to 5 [backport release-5.6.0] (#5465) (eclipse-kura-bot)
  * 0d897a3b92 - feat: Added new KeystoreService.getKeyManagers() method that allows provider selection [backport release-5.6.0] (#5460) (nicolatimeus)
  * f45421ebef - build: Protobuf update to 3.25.5 [backport 5.6.0] (#5431) (#5450) (Matteo Maiero)
  * d17c9cea86 - feat(distrib): Network configuration customization during Kura instal… (#5453) (Pierantonio Merlino)
  * b32783f0f1 - feat(position): added datetime and gnsstype to position service static provider [backport release-5.6.0] (#5451) (eclipse-kura-bot)
  * 4996841276 - feat: added gnssType to position rest service [backport 5.6.0] (#5429) (#5449) (sfiorani)
  * 2f259334cd - feat: add GPS Mode selector in modem UI [backport 5.6.0] (#5435) (Mattia Dal Ben)
  * e3ad041b6b - feat(asset.provider): Added type for Scale and Offset in Channels [backport release-5.6.0] (#5426) (eclipse-kura-bot)
  * 1824c77800 - feat(nm): add managed GPS mode [backport release-5.6.0] (#5417) (eclipse-kura-bot)
  * e774a2e5c3 - chore: Updating versions to include current version packages in distrib (#5421) (Matteo Maiero)
  * e2c372da05 - feat(api): add getSupportedGpsModes() to modem status API [backport release-5.6.0] (#5422) (eclipse-kura-bot)
  * df160ae038 - feat: Improve container service description [backport release-5.6.0] (#5425) (eclipse-kura-bot)
  * cf7fb669d1 - feat: Added asset name in error logs [backport release-5.6.0] (#5416) (eclipse-kura-bot)
  * cd4a5a6e9d - style(position): added missing and fixed wrong copyrights in updated position API [backport release-5.6.0] (#5413) (eclipse-kura-bot)
  * 94c76d2ed3 - feat(api): added gnss type data to PositionService (#5381) [backport release-5.6.0] (#5407) (sfiorani)
  * 728ee0ce99 - feat(linux.net): Modified dhcp server selection order [backport release-5.6.0] (#5402) (Pierantonio Merlino)
  * 6486935c91 - ci: use newly introduced bot personal access token for github workflows (#5397) (#5403) (Mattia Dal Ben)
  * e5eae5fa61 - fix(distrib): Fix DHCP dependencies for Debian installer [backport release-5.6.0 (#5401) (Pierantonio Merlino)
  * ccd2e08db6 - fix: Updated the Eclipse Marketplace certificate [backport release-5.6.0] (#5395) (github-actions[bot])
  * 024cae7629 - ci: Keep only the artifacts of the last 2 builds [backport release-5.6.0] (#5393) (Mattia Dal Ben)
  * 79f02b6efc - ci: fix Github actions permissions [backport release-5.6.0] (#5392) (github-actions[bot])
  * 6ca13b211c - fix: Disable systemd-resolved stub mode on systemd versions less than 248 [backport release-5.6.0] (#5369) (github-actions[bot])
  * b3dff8ffdb - fix: Connection Scheduler metatype improvement. [backport release-5.6.0] (#5365) (github-actions[bot])
  * 392ee9413c - feat: Modified modem APN tooltip (backport) (#5360) (Pierantonio Merlino)
  * d5a020ab82 - feat: Add net2 check to hide pdp if not needed (#5356) (Matteo Maiero)
  * 766a3328e2 - feat(nm): Modem APN as an optional parameter [backport release-5.6.0] (#5353) (github-actions[bot])
  * 8d11fda564 - chore: automated uptick to 5.6.0-SNAPSHOT (#5349) (github-actions[bot])
  * 963255b4c4 - chore: automated uptick to 5.5.1-SNAPSHOT (#5314) (github-actions[bot])


